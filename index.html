<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="style.css"/>
  <script src="js/easeljs-0.5.0.min.js"></script>
  <script src="js/tweenjs-0.3.0.min.js"></script>
  <script>
    var stage;

    function result(canvas, score, x) {
      var y = 355;

      var capsule = new createjs.Bitmap("png/codestory_blank_capsule_100.png");
      capsule.x = x;
      capsule.y = y;
      capsule.scaleX = 0.75;
      capsule.scaleY = 0.75;
      createjs.Tween.get(capsule, {})
              .to({y:y - score * 3}, 2500, createjs.Ease.cubicInOut);

      var cosmonaut = new createjs.Bitmap("png/codestory_spaceman_100.png");
      cosmonaut.x = x + 22;
      cosmonaut.y = y + 155;
      cosmonaut.scaleX = 0.25;
      cosmonaut.scaleY = 0.25;
      createjs.Tween.get(cosmonaut, {})
              .to({y:y - score * 3 + 155}, 2500, createjs.Ease.cubicInOut)
              .to({y:450}, 1000, createjs.Ease.backIn)
              .to({y:534}, 3000, createjs.Ease.sineInOut);
      createjs.Tween.get(cosmonaut, {})
              .wait(2500)
              .to({x:cosmonaut.x + 100}, 1000, createjs.Ease.circOut);

      var parachute = new createjs.Bitmap("png/codestory_blank_parachute_200.png");
      parachute.x = x + 109;
      parachute.y = 410;
      parachute.scaleX = 0.25;
      parachute.scaleY = 0.25;
      parachute.visible = false;
      createjs.Tween.get(parachute, {})
              .wait(3500)
              .set({visible:true}, parachute)
              .to({y:492}, 3000, createjs.Ease.sineInOut)
              .wait(100)
              .set({visible:false}, parachute);

      stage.addChild(cosmonaut);
      stage.addChild(parachute);
      stage.addChild(capsule);
    }

    function percentage(actualValue, maximumValue) {
      return actualValue * 100 / maximumValue;
    }

    function init(canvas) {
      stage = new createjs.Stage("scores");

      var winnerScore = 45;
      var looserScore = 33;

      result(canvas, percentage(winnerScore, winnerScore), 100);
      result(canvas, percentage(looserScore, winnerScore), 400);

      createjs.Ticker.addListener(window);
      createjs.Ticker.setFPS(30);
      createjs.Ticker.useRAF = true;
    }
    function tick(elapsedTime) {
      stage.update(elapsedTime);
    }
  </script>
</head>
<body onload="init(document.getElementById('scores'));">
<canvas id="scores" width="1006" height="566">
  scores
</canvas>
</body>
</html>